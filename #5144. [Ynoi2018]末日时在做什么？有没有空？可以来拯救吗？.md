
# #5144. [Ynoi2018]末日时在做什么？有没有空？可以来拯救吗？
内存限制：256 MiB 时间限制：60 Sec提交 提交记录 讨论
#### 题目描述
今天真是多谢你了
让我体验了许多美好
我留下了如同美梦一般的回忆 不过时间到了
最后我还想拜托你一件事
希望你可以把我忘掉
 ![](upload/201801/1(4).png)
在自己消失之前
心怀不想消失的愿望
希望让某个人记住我
希望能留下羁绊
我这么希望着，又有什么不可以的吗
 ![](upload/201801/2(3).png)
香香甜甜的，真好闻
看起来很好吃
 ![](upload/201801/3(4).png)
我遵守了...
约...约定
我非常...非常努力哦...
 ![](upload/201801/4(3).png)
欢迎回来，珂朵莉
珂朵莉给了你一个长为n的序列a，有m次操作
1.把区间[l,r]内所有数都加上x
2.查询区间[l,r]内的最大子段和，可以不选数

#### 输入格式
第一行两个数n,m
第二行n个数表示序列a
后面m行
1 l r x : 把区间[l,r]内所有数加上x
2 l r : 查询区间[l,r]的最大子段和
1 <= n , m <= 100000 , | ai | <= 2000000000 , 0 <= x <= 1000000
共15组数据

#### 输出格式
对于每个询问，输出一个数表示答案

#### 样例

#### 样例输入

			5 5
-2 -3 -3 -3 -3
2 1 5
1 2 4 4
2 1 5
1 2 3 1
2 3 3`
#### 样例输出

			0
3
2`
#### 数据范围与提示

